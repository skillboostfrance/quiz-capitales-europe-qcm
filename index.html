<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz des Capitales d'Europe</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    img {
      width: 80px;
      height: auto;
      margin-bottom: 20px;
    }
    .question {
      font-size: 1.2em;
      margin-bottom: 15px;
    }
    .choices button {
      display: block;
      margin: 10px 0;
      padding: 10px;
      width: 100%;
      border: none;
      border-radius: 8px;
      background-color: #f0f0f0;
      cursor: pointer;
      font-size: 1em;
    }
    .choices button:hover {
      background-color: #ddd;
    }
    .feedback {
      margin-top: 15px;
      font-weight: bold;
    }
    #nextBtn {
      margin-top: 20px;
      display: none;
      padding: 10px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Quiz des Capitales d'Europe</h1>
  <div id="quiz">
    <img id="flag" src="" alt="Drapeau du pays">
    <div class="question" id="question"></div>
    <div class="choices" id="choices"></div>
    <div class="feedback" id="feedback"></div>
    <button id="nextBtn" onclick="nextQuestion()">Question suivante</button>
  </div>

  <script>
    const countries = [
      { name: "France", capital: "Paris" },
      { name: "Belgique", capital: "Bruxelles" },
      { name: "Luxembourg", capital: "Luxembourg" },
      { name: "Allemagne", capital: "Berlin" },
      { name: "Suisse", capital: "Berne" },
      { name: "Italie", capital: "Rome" },
      { name: "Espagne", capital: "Madrid" },
      { name: "Monaco", capital: "Monaco" },
      { name: "Andorre", capital: "Andorre-la-Vieille" },
      { name: "Pays-Bas", capital: "Amsterdam" },
      { name: "Liechtenstein", capital: "Vaduz" },
      { name: "Autriche", capital: "Vienne" },
      { name: "Royaume-Uni", capital: "Londres" },
      { name: "R√©publique Tch√®que", capital: "Prague" },
      { name: "Slov√©nie", capital: "Ljubljana" },
      { name: "Croatie", capital: "Zagreb" },
      { name: "Danemark", capital: "Copenhague" },
      { name: "Slovaquie", capital: "Bratislava" },
      { name: "Hongrie", capital: "Budapest" },
      { name: "Irlande", capital: "Dublin" },
      { name: "Malte", capital: "La Valette" },
      { name: "Pologne", capital: "Varsovie" },
      { name: "Saint-Marin", capital: "Saint-Marin" },
      { name: "Vatican", capital: "Cit√© du Vatican" },
      { name: "Serbie", capital: "Belgrade" },
      { name: "Bosnie-Herz√©govine", capital: "Sarajevo" },
      { name: "Mont√©n√©gro", capital: "Podgorica" },
      { name: "Mac√©doine du Nord", capital: "Skopje" },
      { name: "Kosovo", capital: "Pristina" },
      { name: "Albanie", capital: "Tirana" },
      { name: "Portugal", capital: "Lisbonne" },
      { name: "Gr√®ce", capital: "Ath√®nes" },
      { name: "Bulgarie", capital: "Sofia" },
      { name: "Roumanie", capital: "Bucarest" },
      { name: "Chypre", capital: "Nicosie" },
      { name: "Estonie", capital: "Tallinn" },
      { name: "Lettonie", capital: "Riga" },
      { name: "Lituanie", capital: "Vilnius" },
      { name: "Moldavie", capital: "Chisinau" },
      { name: "Ukraine", capital: "Kiev" },
      { name: "Norv√®ge", capital: "Oslo" },
      { name: "Su√®de", capital: "Stockholm" },
      { name: "Finlande", capital: "Helsinki" },
      { name: "Islande", capital: "Reykjavik" },
      { name: "Bi√©lorussie", capital: "Minsk" },
      { name: "G√©orgie", capital: "Tbilissi" }
    ];

    let currentIndex = 0;
    let quizOrder = shuffle([...countries]);

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function loadQuestion() {
      document.getElementById('feedback').textContent = "";
      document.getElementById('nextBtn').style.display = "none";
      const question = quizOrder[currentIndex];
      document.getElementById('question').textContent = `Quelle est la capitale de ${question.name} ?`;

      const flagSrc = `https://flagcdn.com/w80/${getCountryCode(question.name)}.png`;
      document.getElementById('flag').src = flagSrc;

      const choices = shuffle(generateChoices(question));
      const container = document.getElementById('choices');
      container.innerHTML = "";

      choices.forEach(choice => {
        const btn = document.createElement('button');
        btn.textContent = choice;
        btn.onclick = () => checkAnswer(choice, question.capital);
        container.appendChild(btn);
      });
    }

    function generateChoices(question) {
      const incorrect = shuffle(countries.filter(c => c.capital !== question.capital)).slice(0, 2);
      return [question.capital, ...incorrect.map(c => c.capital)];
    }

    function checkAnswer(selected, correct) {
      const feedback = document.getElementById('feedback');
      if (selected === correct) {
        feedback.textContent = "‚úÖ Bonne r√©ponse !";
        feedback.style.color = "green";
      } else {
        feedback.textContent = `‚ùå Mauvaise r√©ponse. La bonne r√©ponse est : ${correct}`;
        feedback.style.color = "red";
      }
      document.getElementById('nextBtn').style.display = "inline-block";
    }

    function nextQuestion() {
      currentIndex++;
      if (currentIndex < quizOrder.length) {
        loadQuestion();
      } else {
        document.getElementById('quiz').innerHTML = "<h2>üéâ Vous avez termin√© le quiz !</h2>";
      }
    }

    function getCountryCode(name) {
      const mapping = {
        "France": "fr", "Belgique": "be", "Luxembourg": "lu", "Allemagne": "de",
        "Suisse": "ch", "Italie": "it", "Espagne": "es", "Monaco": "mc",
        "Andorre": "ad", "Pays-Bas": "nl", "Liechtenstein": "li", "Autriche": "at",
        "Royaume-Uni": "gb", "R√©publique Tch√®que": "cz", "Slov√©nie": "si",
        "Croatie": "hr", "Danemark": "dk", "Slovaquie": "sk", "Hongrie": "hu",
        "Irlande": "ie", "Malte": "mt", "Pologne": "pl", "Saint-Marin": "sm",
        "Vatican": "va", "Serbie": "rs", "Bosnie-Herz√©govine": "ba",
        "Mont√©n√©gro": "me", "Mac√©doine du Nord": "mk", "Kosovo": "xk", "Albanie": "al",
        "Portugal": "pt", "Gr√®ce": "gr", "Bulgarie": "bg", "Roumanie": "ro",
        "Chypre": "cy", "Estonie": "ee", "Lettonie": "lv", "Lituanie": "lt",
        "Moldavie": "md", "Ukraine": "ua", "Norv√®ge": "no", "Su√®de": "se",
        "Finlande": "fi", "Islande": "is", "Bi√©lorussie": "by", "G√©orgie": "ge"
      };
      return mapping[name] || "eu";
    }

    loadQuestion();
  </script>
</body>
</html>